{% extends "layout.html" %}
{% block title %}Edit Product{% endblock %}
{% block content %}
<div class="form-container">
    <h1><i class="fas fa-edit"></i> Edit Product</h1>
    
    <form action="{{ url_for('edit_product', product_id=product['id']) }}" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label>Product Name:</label>
            <input type="text" name="product_name" value="{{ product['product_name'] }}" required>
        </div>
        
        <div class="form-group">
            <label>Description:</label>
            <textarea name="description" rows="4" required>{{ product['description'] }}</textarea>
        </div>
        
        <div class="form-group">
            <label>Expiration Date:</label>
            <input type="date" name="expiry_date" value="{{ product['expiry_date'].strftime('%Y-%m-%d') if product['expiry_date'] else '' }}" required>
        </div>
        
        <div class="form-group">
            <label>Current Product Photo:</label>
            {% if product['image_filename'] %}
                <div class="current-image">
                    <img src="{{ url_for('uploaded_file', filename=product['image_filename']) }}" alt="Current Product Photo" width="200">
                </div>
            {% else %}
                <p>No product photo available.</p>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label>Change Photo (optional):</label>
            <input type="file" name="image" accept="image/*">
        </div>
        
        <div class="form-actions">
            <button type="submit"><i class="fas fa-save"></i> Update Product</button>
            <a href="{{ url_for('home') }}" class="cancel-btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}